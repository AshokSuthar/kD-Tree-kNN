import numpy as np
import math
closest_points = np.array([(37.988780285668476, 25.82118656786139, 1.9431670303528437, 37.50228260102647, 88.39159727275506, 20.655793010029335, 91.90931098219144, 42.702080972758274, 53.87471726409123, 47.40906256302592), (33.31852947754152, 66.6044585021167, 43.45232508918158, 55.05652599811186, 46.65278006046088, 68.44180379683847, 92.82435987711173, 18.01418072658536, 85.77018042036563, 14.185163987178784), (35.86721855819304, 57.63280300144748, 72.94835293373724, 60.498158429718664, 22.3897835452026, 3.524487011044808, 55.13039586022902, 13.442898184924557, 43.94378929466865, 16.306314159286284), (24.954340638286098, 51.18327749364929, 97.36779627134202, 77.20420739653831, 31.021307505475093, 64.1401941582893, 61.63400022971752, 71.18041736205211, 49.82135621993682, 76.9344409362501), (75.52987703041465, 57.394440783914, 91.95089409179988, 5.74180801540225, 43.58315697032742, 91.81948478674778, 14.063240962655266, 61.98821351630062, 57.86116998601337, 10.049465152285231), (9.653332578064699, 67.39784250357448, 74.96324404967719, 42.940418416322835, 41.726027577793644, 47.66524658831304, 94.3883884494853, 79.43256900436553, 79.15270894675112, 12.722613458258492), (95.33690235294777, 68.70628018998435, 27.970839204929444, 72.3411429349563, 71.94700339434729, 11.305462371429575, 40.22009193608762, 24.757069247591133, 11.459416105625554, 79.23544003293969), (35.29174906563222, 70.87415708696034, 77.31117980871865, 73.51680167060807, 14.01119516426056, 40.61686299378915, 38.26022338771173, 79.85180658304033, 32.175142536315725, 44.1732710611978), (62.48416083963303, 40.97373480541855, 14.752482968220892, 77.21615756618979, 13.940796464745176, 19.023053332314145, 67.46353033030101, 25.377350302577018, 89.00115509638134, 47.04558965878748), (35.2824127640236, 29.430779970545363, 75.62533803858604, 20.887070767469197, 60.59018114858947, 37.63818640816965, 56.8124429130511, 32.90484894735237, 96.10996506068656, 0.48868460535107516), (13.67337283974609, 90.24399175053894, 89.30252537547851, 8.616237040995966, 92.31441248316263, 29.47355073734207, 93.00469932468535, 5.9214915933931245, 91.03554801259925, 68.47405445056306), (23.216146366421007, 49.564402792707284, 66.96811932089192, 20.009203914060457, 62.57167390198662, 1.8240311237784468, 68.66960366155523, 80.77579775842717, 62.05801212112812, 93.43989466399465), (27.517879207784024, 2.153401008844469, 74.24482479119426, 92.0353848686949, 40.08517377684429, 45.381555307926405, 75.73522822525975, 47.24573508662946, 29.627585806207424, 0.3952859914926665), (36.38222348892492, 37.32228371857889, 93.1071495438569, 24.747477167806352, 21.105893054582104, 79.25087430534671, 60.67285821440167, 31.132440385773585, 76.3985289182646, 83.41204730606655), (94.30518746052155, 39.95314088336883, 79.50045278848789, 16.005324705636824, 73.99648122218821, 23.680080025457563, 26.46085226515693, 95.60418397093949, 21.897489822717773, 65.18721172893707), (15.904659636782926, 94.8924374226758, 96.42942984860503, 42.808529991048246, 44.84100810663346, 30.996166443523055, 3.5567163355052167, 76.545343466673, 9.644997829202396, 22.44798299480787), (57.96765685491935, 56.462596830424836, 95.02694796399189, 55.96831923324627, 0.4815216327941241, 64.34576395556616, 44.724627028381626, 82.50121938754516, 36.26830061182042, 57.266042828049166), (72.57561032164797, 62.078066980515835, 84.1397012177228, 35.62244246810431, 66.02486710078846, 46.36916783542421, 10.748607770124375, 68.98066677590118, 22.603632981987165, 85.38318057826625), (71.94921678614246, 90.03700532322844, 17.68607644822149, 26.984087577194437, 64.33566015285007, 54.36754646151741, 98.39356815255978, 25.336690878578636, 74.9143316374851, 58.63270564464107), (0.1619485436622492, 8.965161015256962, 48.266020892404796, 90.43247015131138, 71.13255641411145, 54.44582335114948, 80.88695746484603, 74.320303478319, 54.27252214020834, 64.4983876389461), (64.45100120215382, 8.37150656842388, 89.28598943072828, 4.307692381510975, 98.30674571212157, 81.86410068082843, 88.32244670634482, 93.37780588063764, 65.1140087073146, 59.31088057841001), (41.75971603157236, 8.088179998282385, 35.597635876191426, 50.213522166925316, 1.773455863515816, 65.9054561210169, 20.477266755423827, 21.710809689798815, 85.07231444887627, 95.17175459766824), (59.95567540007456, 44.00421400548542, 3.7586269730781163, 67.8811775021836, 80.27905344812179, 35.3703314363276, 28.52118035829825, 49.62033778856396, 42.311374567528546, 51.32482915840172), (30.8210036564461, 74.96400305266913, 17.26726754317136, 75.49866195283846, 78.65406070136841, 33.13728780213731, 46.65999205021147, 71.08423500158277, 19.275630806519906, 57.663833999828014), (85.13659957350399, 74.1492176377249, 88.26434342096448, 1.3397650730727295, 85.18684591188808, 89.26934969493318, 2.8660146822806487, 64.0739761263138, 98.0958363374943, 33.22132054206496), (60.98761879120954, 33.69049712258979, 7.334344467218323, 92.22317455686952, 57.40022571090997, 80.53685136631252, 26.13704964390483, 61.64375635957696, 57.159637319612166, 94.51223505476713), (36.79697001247393, 37.63696000912954, 64.12401947231922, 69.75569616461654, 53.38279068094495, 13.19732164362547, 79.54541644192614, 42.83863617505992, 88.86579384027151, 73.96566180439413), (73.57164059471718, 33.8323797611591, 87.73528058902937, 58.5597464046948, 17.19739893151633, 78.08075178684078, 61.87482883661089, 11.7561889658372, 10.26899637005072, 67.32634836855817), (19.75678287472975, 84.20552473773431, 72.05503486419177, 52.55204390107865, 84.8387115445654, 62.11490099852897, 83.81501034534676, 97.65129769774623, 87.29036786680581, 85.71280685427632), (55.970460222531926, 67.51227191323157, 80.96205640999517, 61.267096020580055, 95.9500636295225, 99.04174880055713, 96.3424880731871, 4.052944614634269, 89.45435847904916, 27.434323800219516), (42.881881914516626, 20.082423122080474, 60.90491356397643, 45.249918649662355, 87.60695912125995, 36.40795563486831, 27.253524348060164, 86.92124788527516, 86.78823998563563, 24.550678104045044), (59.79350959937471, 75.2692274717972, 65.60746926240216, 41.08686957427851, 88.17832723179818, 37.80081501844026, 56.7784373425568, 46.90364471740768, 69.4612500182253, 74.84351280087252), (38.18304160245036, 38.070682581828464, 26.092962542206443, 60.40843654166661, 59.32093657676116, 27.52773048148719, 65.65948777466843, 88.25569475235514, 97.75799912743494, 39.23229358049276), (90.94977117640921, 6.3340596594138265, 45.19847733591337, 59.999836548932706, 13.261022342470596, 49.18643603077747, 6.460324926599615, 63.261063360203494, 0.675236689627301, 89.38964798351157), (90.64145689197913, 55.919958141496465, 64.04195701486421, 5.824847450175897, 51.778331835336346, 32.829397834001696, 59.98427662575306, 71.88676540317384, 32.544606601939364, 29.636907932651958), (70.49342082801907, 51.6041984936897, 36.19488088765037, 79.92815341741058, 67.95916083277802, 4.086444645471998, 67.84003088798629, 33.4529277128184, 27.277370470293704, 45.382600395194906), (23.30711359568681, 23.562966747658397, 64.11103182275748, 95.88446361701793, 28.326527648204692, 28.29296170175235, 54.91482712629061, 77.83961294370953, 73.24701884338668, 11.052829472670634), (29.235255445108987, 77.23518377220465, 31.871624510334208, 24.745072721165016, 8.054564790518315, 52.365907828492965, 67.42325518962902, 66.84156087570067, 46.292959602190756, 42.379833848558626), (79.13879646047617, 69.8500713207807, 17.470920005673428, 69.7518518732356, 25.80980038652533, 67.20922631800377, 72.63342674540759, 39.454654794489606, 30.8961865783021, 27.708689323322933), (28.862504966976488, 98.18691304414341, 61.31203365141851, 65.2923156181162, 17.88682939646955, 40.03134533239094, 40.87306106981927, 39.21762949281862, 73.85340212353096, 46.35765697448518), (45.9379134885473, 37.755806250630584, 86.85288771051987, 2.115248489156374, 15.286308777851342, 99.32201599616445, 31.968353868966105, 36.3082190043358, 27.806190381178773, 54.196357950274134), (24.374240408830417, 71.35531203200486, 75.93373061335514, 25.767940166378345, 57.35698763842054, 91.6223295588502, 29.043057445944008, 46.75170292692904, 23.303026136669768, 9.606154005159695), (39.96315404902385, 70.82052971916846, 31.16144889808865, 87.8183415351874, 56.6254087724425, 36.53354553080255, 61.526702045475886, 42.99144488285126, 45.319897407260434, 32.05443791665411), (33.6041141029775, 69.78494260990179, 83.4413142181157, 62.12997058218605, 7.365011429767543, 97.96208233649347, 76.7704787885798, 0.394997255745666, 42.08995818625703, 67.2869939101371), (30.60725307757709, 90.03940939661182, 63.37099463405489, 34.964934772445645, 12.588837438493194, 80.4439506798835, 70.03556533441485, 15.705981215555775, 82.2115256393455, 91.998292413672), (61.25892447479884, 20.432169085135488, 48.798690302952096, 24.87345425548213, 10.859713530643656, 43.89497418412023, 19.272139539153333, 4.384393869715386, 70.79074773462408, 15.747742291947342), (23.72504180697118, 9.515375499341284, 48.51378822036006, 51.61583482026009, 25.067027250872986, 70.34417280749463, 72.7465882527356, 91.09160152798155, 38.47498598307847, 98.4857104647149), (53.62401769980958, 2.039559646863731, 99.7488145814241, 56.843699997330766, 74.4969055004906, 90.67336307784126, 33.69011955796742, 66.81207816339129, 53.239111478213665, 14.234126271361946), (31.632720715932404, 62.661235333514654, 54.859680721724146, 0.35288426874389156, 11.56872133766499, 66.02704408417824, 57.62821604502998, 92.36263062256334, 92.49022066078064, 91.39802372408637), (41.843428823346116, 76.01079895988923, 56.261425560456026, 92.10920431230679, 37.72352339569204, 82.83693267323495, 94.9497568439088, 38.429675535093644, 43.681381461919266, 52.12108309603111)])
query_point = np.array([5.0, 6.0, 5.0, 6.0, 5.0, 6.0, 5.0, 6.0, 5.0, 6.0])
distance = []
#calculating distance of all the points in leaf node from the query_point and adding into distance list
k = 6
for i in range(len(closest_points)):
	#Calculating distance (2-d) and adding to list distance, along with the index of the point, i.
	distance.append([math.sqrt(np.sum(np.square(closest_points[i]-query_point))),i])
distance = np.array(distance)
#sorting the distance array based on the distances in the ascending order, while preserving their index(position) in point_list
distance.view('f8,i8').sort(order=['f0'], axis=0)
#print(distance)
print(str(k)+" Nearest points to the query point "+str(query_point)+"according to the KD_Tree built are:")
nn = []
#taking only closest k points and adding into nearest_neighbor list
for x in distance[:k]:
	#use print(x) to print distances of the closest k points
	print(x)
	nn.append(closest_points[int(x[1])])
	#printing the knn
	print(nn,end="\n\n")
